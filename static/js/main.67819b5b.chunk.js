(this.webpackJsonpclient=this.webpackJsonpclient||[]).push([[0],Array(27).concat([function(e,t,a){e.exports=a(61)},,,,,function(e,t,a){},,function(e,t,a){},function(e,t,a){},function(e,t,a){},,,,,,function(e,t,a){},function(e,t,a){},function(e,t,a){},function(e,t,a){},function(e,t,a){},function(e,t,a){},function(e,t,a){},function(e,t,a){},function(e,t,a){},function(e,t,a){},function(e,t,a){},function(e,t,a){},function(e,t,a){},function(e,t,a){},function(e,t,a){},function(e,t,a){},function(e,t,a){},function(e,t,a){},function(e,t,a){},function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),i=a(23),c=a.n(i),s=(a(32),a(26)),l=a(17),o=a(8),u=a.n(o),m=a(11),p=a(1),d=a(2),h=a(4),v=a(3),E=a(5),f=(a(34),a(13)),b=(a(35),a(6)),g=r.a.createContext({basePath:"",loggedIn:function(){},newUser:function(){},setLoggedIn:function(){},setNewUser:function(){},setShipments:function(){},setEquipments:function(){},setIdleDrivers:function(){},setDrivers:function(){},getAllData:function(){},loggedInCarrier:{},shipments:[],setLoggedInCarrier:function(){},idleDrivers:[],idleEquipments:[],equipments:[],drivers:[],loadStatus:[]}),y=(a(36),function(e){function t(){return Object(p.a)(this,t),Object(h.a)(this,Object(v.a)(t).apply(this,arguments))}return Object(E.a)(t,e),Object(d.a)(t,[{key:"render",value:function(){var e=this.context.basePath;return r.a.createElement("nav",{className:"DesktopMenu"},r.a.createElement("ul",{className:"menu-list"},r.a.createElement("li",{className:"menu-item"},r.a.createElement(b.b,{to:"".concat(e,"/dashboard")},"Dashboard")),r.a.createElement("li",{className:"menu-item"},r.a.createElement(b.b,{to:"".concat(e,"/loads")},"Loads")),r.a.createElement("li",{className:"menu-item"},r.a.createElement(b.b,{to:"".concat(e,"/equipments")},"Equipments")),r.a.createElement("li",{className:"menu-item"},r.a.createElement(b.b,{to:"".concat(e,"/drivers")},"Drivers"))))}}]),t}(n.Component));y.contextType=g;var N=y,O=(a(42),function(e){function t(e){var a;return Object(p.a)(this,t),(a=Object(h.a)(this,Object(v.a)(t).call(this,e))).changeMenuOpenState=function(){a.setState({menuOpen:!a.state.menuOpen})},a.closeMenuWhenLargerScreen=function(e){window.innerWidth>1050&&a.setState({menuOpen:!1})},a.componentDidMount=function(){window.addEventListener("resize",a.closeMenuWhenLargerScreen)},a.state={menuOpen:!1},a}return Object(E.a)(t,e),Object(d.a)(t,[{key:"render",value:function(){var e=this.context.basePath;return r.a.createElement("nav",{className:"MobileMenu"},r.a.createElement("button",{className:"menu-button",onClick:this.changeMenuOpenState},r.a.createElement("div",null),r.a.createElement("div",null),r.a.createElement("div",null)),this.state.menuOpen&&r.a.createElement("ul",{className:"menu-list"},r.a.createElement("button",{className:"close-button",onClick:this.changeMenuOpenState},"X"),r.a.createElement("li",{className:"menu-item"},r.a.createElement(b.b,{to:"".concat(e,"/dashboard"),onClick:this.changeMenuOpenState},"Dashboard")),r.a.createElement("li",{className:"menu-item"},r.a.createElement(b.b,{to:"".concat(e,"/loads"),onClick:this.changeMenuOpenState},"Loads")),r.a.createElement("li",{className:"menu-item"},r.a.createElement(b.b,{to:"".concat(e,"/equipments"),onClick:this.changeMenuOpenState},"Equipments")),r.a.createElement("li",{className:"menu-item"},r.a.createElement(b.b,{to:"".concat(e,"/drivers"),onClick:this.changeMenuOpenState},"Drivers"))))}}]),t}(n.Component));O.contextType=g;var k=O,D=function(e){function t(){return Object(p.a)(this,t),Object(h.a)(this,Object(v.a)(t).apply(this,arguments))}return Object(E.a)(t,e),Object(d.a)(t,[{key:"render",value:function(){var e=this.context.loggedIn;return r.a.createElement("header",{className:"Header blue-back white-text"},r.a.createElement("div",{className:"width-wrapper"},r.a.createElement(b.b,{to:"/"},r.a.createElement("div",{className:"logo"},r.a.createElement("span",null,"Dispatch"),r.a.createElement("span",null,"Office"))),e&&r.a.createElement(r.a.Fragment,null,r.a.createElement(N,null),r.a.createElement(k,null))))}}]),t}(n.Component);D.contextType=g;var j=D,w=(a(43),function(e){function t(){return Object(p.a)(this,t),Object(h.a)(this,Object(v.a)(t).apply(this,arguments))}return Object(E.a)(t,e),Object(d.a)(t,[{key:"render",value:function(){var e=this.context.basePath;return r.a.createElement("div",{className:"HomePageSection width-wrapper"},r.a.createElement("p",null,"Welcome !! to ",r.a.createElement("span",{className:"span-title red-text"},"Dispatch Office"),", a transportation management system, which assists freight managers with workflow, automation and shipment scheduling."),r.a.createElement(b.b,{to:"".concat(e,"/create-account"),className:"app-button"},"Create Account"),r.a.createElement(b.b,{to:"".concat(e,"/login"),className:"app-link"},"Login"))}}]),t}(n.Component));w.contextType=g;var S=w,x=function(e){function t(){return Object(p.a)(this,t),Object(h.a)(this,Object(v.a)(t).apply(this,arguments))}return Object(E.a)(t,e),Object(d.a)(t,[{key:"render",value:function(){var e=this.context,t=e.basePath,a=e.loggedIn,n=e.newUser;return a?n?r.a.createElement(f.a,{to:"".concat(t,"/newuser")}):r.a.createElement(f.a,{to:"".concat(t,"/dashboard")}):r.a.createElement("section",{className:"HomePage blue-text"},r.a.createElement(S,null))}}]),t}(n.Component);x.contextType=g;var q=x,C=(a(44),a(45),function(e){function t(){var e,a;Object(p.a)(this,t);for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return(a=Object(h.a)(this,(e=Object(v.a)(t)).call.apply(e,[this].concat(r)))).handleFormSubmit=function(e){e.preventDefault();var t=e.target,a=t.username,n=t.password,r=t.full_name,i=t.company_name,c=t.mc_num,s={username:a.value,password:n.value,company_name:i.value,mc_num:c.value,full_name:r.value};console.log(s)},a}return Object(E.a)(t,e),Object(d.a)(t,[{key:"render",value:function(){var e=this;return r.a.createElement("form",{className:"CreateAccount width-wrapper",onSubmit:function(t){e.handleFormSubmit(t)}},r.a.createElement("fieldset",null,r.a.createElement("legend",{className:"blue-back white-text"},"Create Account"),r.a.createElement("div",{className:"flex"},r.a.createElement("label",{htmlFor:"username"},r.a.createElement("span",{className:"input-title"},"* Username:"),r.a.createElement("input",{type:"text",id:"username",name:"username",required:!0}),r.a.createElement("span",{className:"error"},"Invalid Username")),r.a.createElement("label",{htmlFor:"password"},r.a.createElement("span",{className:"input-title"},"* Password:"),r.a.createElement("input",{type:"password",id:"password",name:"password",required:!0}),r.a.createElement("span",{className:"error"},"Password Error")),r.a.createElement("label",{htmlFor:"full_name"},r.a.createElement("span",{className:"input-title"},"* Full Name:"),r.a.createElement("input",{type:"text",id:"full_name",name:"full_name",required:!0}),r.a.createElement("span",{className:"error"},"Invalid Username")),r.a.createElement("label",{htmlFor:"company_name"},r.a.createElement("span",{className:"input-title"},"Company Name:"),r.a.createElement("input",{type:"text",id:"company_name",name:"company_name",required:!0}),r.a.createElement("span",{className:"error"},"Company Name Error")),r.a.createElement("label",{htmlFor:"mc_num"},r.a.createElement("span",{className:"input-title"},"MC Number:"),r.a.createElement("input",{type:"text",id:"mc_num",name:"mc_num"}),r.a.createElement("span",{className:"error"},"MC Number Error")),r.a.createElement("button",{className:"app-button",type:"submit"},"Create Account"))))}}]),t}(n.Component)),I=function(e){function t(){return Object(p.a)(this,t),Object(h.a)(this,Object(v.a)(t).apply(this,arguments))}return Object(E.a)(t,e),Object(d.a)(t,[{key:"render",value:function(){var e=this.context,t=e.basePath,a=e.loggedIn,n=e.newUser;return a?n?r.a.createElement(f.a,{to:"".concat(t,"/newuser")}):r.a.createElement(f.a,{to:"".concat(t,"/dashboard")}):r.a.createElement("div",{className:"CreateAccountPage"},r.a.createElement(C,null))}}]),t}(n.Component);I.contextType=g;var P=I,A=(a(46),a(47),{API_ENDPOINT:Object({NODE_ENV:"production",PUBLIC_URL:"/dispatch-office-client"}).API_ENDPOINT||"https://rocky-waters-07125.herokuapp.com/api",TOKEN_KEY:Object({NODE_ENV:"production",PUBLIC_URL:"/dispatch-office-client"}).TOKEN_KEY||"9e7d73be-f7f1-11e9-8f0b-362b9e155667",BASEPATH:"/dispatch-office-client"}),_={saveAuthToken:function(e){window.localStorage.setItem(A.TOKEN_KEY,e)},getAuthToken:function(){return window.localStorage.getItem(A.TOKEN_KEY)},clearAuthToken:function(){window.localStorage.removeItem(A.TOKEN_KEY)},hasAuthToken:function(){return!!_.getAuthToken()}},L=_,T={postLogin:function(e){return fetch("".concat(A.API_ENDPOINT,"/auth/login"),{method:"POST",headers:{"content-type":"application/json"},body:JSON.stringify(e)}).then((function(e){return e.ok?e.json():e.json().then((function(e){throw new Error(e.error.message)}))})).then((function(e){return e})).catch((function(e){return e}))}},F=function(e){function t(){var e,a;Object(p.a)(this,t);for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return(a=Object(h.a)(this,(e=Object(v.a)(t)).call.apply(e,[this].concat(r)))).state={error:null,incorrectUsername:!1,incorrectPassword:!1},a.handleSubmitLoginForm=function(e){e.preventDefault(),a.setState({error:null,incorrectUsername:!1,incorrectPassword:!1});var t=e.target,n=t.username,r=t.password;T.postLogin({username:n.value,password:r.value}).then((function(e){"Incorrect Username"===e.message&&(a.setState({incorrectUsername:!0,error:e.message}),n.value="",r.value="",n.focus()),"Incorrect Password"===e.message&&(a.setState({incorrectPassword:!0,error:e.message}),r.value=""),a.state.incorrectPassword||a.state.incorrectUsername||(L.saveAuthToken(e.authToken),a.context.setLoggedInCarrier(e.loggedInUser),a.props.onLoginSuccess(),n.value="",r.value="")})).catch((function(e){a.setState({error:e.error})}))},a}return Object(E.a)(t,e),Object(d.a)(t,[{key:"render",value:function(){var e=this,t=this.state,a=t.incorrectPassword,n=t.incorrectUsername,i=t.error;return r.a.createElement("form",{className:"LoginForm width-wrapper",onSubmit:function(t){e.handleSubmitLoginForm(t)}},r.a.createElement("fieldset",null,r.a.createElement("legend",{className:"blue-back white-text"},"Login"),r.a.createElement("div",{className:"flex"},r.a.createElement("label",{htmlFor:"username"},r.a.createElement("span",{className:"input-title"},"* Username:"),r.a.createElement("input",{type:"text",id:"username",name:"username",required:!0}),n&&r.a.createElement("span",{className:"error"},i)),r.a.createElement("label",{htmlFor:"password"},r.a.createElement("span",{className:"input-title"},"* Password:"),r.a.createElement("input",{type:"password",id:"password",name:"password",required:!0}),a&&r.a.createElement("span",{className:"error"},i)),r.a.createElement("button",{className:"app-button",type:"submit"},"Login"))))}}]),t}(n.Component);F.contextType=g,F.defaultProps={onLoginSuccess:function(){}};var U=F,B=function(e){function t(){var e,a;Object(p.a)(this,t);for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return(a=Object(h.a)(this,(e=Object(v.a)(t)).call.apply(e,[this].concat(r)))).onLoginSuccess=Object(m.a)(u.a.mark((function e(){return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:a.props.history.push("/"),a.context.setLoggedIn(!0),a.context.getAllData();case 3:case"end":return e.stop()}}),e)}))),a}return Object(E.a)(t,e),Object(d.a)(t,[{key:"render",value:function(){var e=this,t=this.context,a=t.basePath,n=t.loggedIn,i=t.newUser;return n?i?r.a.createElement(f.a,{to:"".concat(a,"/newuser")}):r.a.createElement(f.a,{to:"".concat(a,"/dashboard")}):r.a.createElement("section",{className:"LoginPage"},r.a.createElement(U,{onLoginSuccess:function(){e.onLoginSuccess()}}))}}]),t}(n.Component);B.contextType=g;var z=B;a(48),a(49);function M(e){return e.goBack()}function Z(e){return 0===Object.entries(e).length&&e.constructor===Object}function H(e){return 0===e.length}function V(e){var t=new Date(e),a=t.getDate(),n=t.getMonth(),r=t.getFullYear();return"".concat(n+1,"/").concat(a,"/").concat(r)}function K(e){return e.map((function(e,t){return r.a.createElement("option",{key:t,value:e},e)}))}var Y=function(e){function t(){var e,a;Object(p.a)(this,t);for(var n=arguments.length,i=new Array(n),c=0;c<n;c++)i[c]=arguments[c];return(a=Object(h.a)(this,(e=Object(v.a)(t)).call.apply(e,[this].concat(i)))).getLoadsWithStatus=function(e){var t=a.context.basePath,n=a.context.shipments;return"all"!==e&&(n=n.filter((function(t){return e.includes(t.status)}))),0===n.length?r.a.createElement("li",{className:"empty-list"},"No Loads"):(n=function(e,t){return e.sort((function(e,a){return e[t]<a[t]?1:-1}))}(n,"pickup_date")).map((function(e){return r.a.createElement("li",{className:"load",key:e.id},r.a.createElement("div",{className:"pick-up"},r.a.createElement("h6",null,"Pick-up"),r.a.createElement("br",null),r.a.createElement("span",{className:"red-bold"},e.pickup_warehouse.city,","," ",e.pickup_warehouse.state,r.a.createElement("br",null),"Date: ",V(e.pickup_date))),r.a.createElement("div",{className:"status-line-wrapper"},r.a.createElement("div",{className:"rate-broker"},r.a.createElement("div",{className:"miles"},r.a.createElement("h6",null,"Loaded Miles"),r.a.createElement("br",null),e.miles),r.a.createElement("div",{className:"status"},r.a.createElement("h6",null,"Status"),r.a.createElement("br",null),r.a.createElement("span",{className:"red-bold"},e.status))),r.a.createElement("div",{className:"status-line"},r.a.createElement("div",{className:"circle left"}),r.a.createElement("div",{className:"line"}),r.a.createElement("div",{className:"circle right"})),r.a.createElement("div",{className:"rate-broker"},r.a.createElement("div",{className:"rate"},r.a.createElement("h6",null,"Rate"),r.a.createElement("br",null),r.a.createElement("span",{className:"rate-amount red-bold"},"$",e.rate.toString().replace(/\B(?=(\d{3})+(?!\d))/g,","))),r.a.createElement("div",{className:"broker"},r.a.createElement("h6",null,"Broker"),r.a.createElement("br",null),e.broker))),r.a.createElement("div",{className:"delivery"},r.a.createElement("h6",null,"Delivery"),r.a.createElement("br",null),r.a.createElement("span",{className:"red-bold"},e.delivery_warehouse.city,","," ",e.delivery_warehouse.state," ",r.a.createElement("br",null),"Date: ",V(e.delivery_date))),r.a.createElement("div",{className:"load-buttons"},r.a.createElement(b.b,{className:"app-button",to:"".concat(t,"/load/").concat(e.id)},"View"),r.a.createElement(b.b,{className:"app-button",to:"".concat(t,"/load/edit/").concat(e.id)},"Edit")))}))},a}return Object(E.a)(t,e),Object(d.a)(t,[{key:"render",value:function(){return r.a.createElement("div",{className:"LoadListBox blue-text"},r.a.createElement("h3",{className:"blue-back white-text"},this.props.boxHeader),r.a.createElement("ul",{className:"un-assigned-loads"},this.getLoadsWithStatus(this.props.loadStatus)))}}]),t}(n.Component);Y.contextType=g,Y.defaultProps={loadStatus:[],boxHeader:"Loads"};var G=Y,W=(a(50),a(51),function(e){function t(){return Object(p.a)(this,t),Object(h.a)(this,Object(v.a)(t).apply(this,arguments))}return Object(E.a)(t,e),Object(d.a)(t,[{key:"render",value:function(){var e=this.props.driver,t=this.context,a=t.idleDrivers,n=t.shipments,i=-1;return H(a.filter((function(t){return t.id===e.id})))&&(i=n.filter((function(t){return t.driver.id===e.id}))[0].id),r.a.createElement("div",{className:"DriverCard grey-back blue-text"},r.a.createElement("div",{className:"flex-row"},r.a.createElement("div",{className:"card-div"},r.a.createElement("h6",null,"Driver"),r.a.createElement("p",null,e.full_name)),r.a.createElement("div",{className:"card-div"},r.a.createElement("h6",null,"Pay Rate"),r.a.createElement("p",null,"$",e.pay_rate)),r.a.createElement("div",{className:"card-div"},r.a.createElement("h6",{className:"small-header"},"Equipment #"),r.a.createElement("p",null,e.equipment.unit_num?e.equipment.unit_num:"No Equipment"))),-1===i?r.a.createElement("div",{className:"driver-buttons"},r.a.createElement(b.b,{to:"".concat(A.BASEPATH,"/driver/edit/").concat(e.id),className:"app-button"},"Edit"),r.a.createElement("button",{className:"app-button"},"Delete")):r.a.createElement("div",{className:"driver-buttons"},r.a.createElement("span",null,"Driver Busy"),r.a.createElement(b.b,{className:"app-button",to:"".concat(A.BASEPATH,"/load/").concat(i)},"View Load")))}}]),t}(n.Component));W.defaultProps={driver:{}},W.contextType=g;var R=W,$=function(e){function t(){var e,a;Object(p.a)(this,t);for(var n=arguments.length,i=new Array(n),c=0;c<n;c++)i[c]=arguments[c];return(a=Object(h.a)(this,(e=Object(v.a)(t)).call.apply(e,[this].concat(i)))).renderIdleDriversList=function(){return a.context.idleDrivers.map((function(e){return r.a.createElement("li",{key:e.id},r.a.createElement(R,{driver:e}))}))},a}return Object(E.a)(t,e),Object(d.a)(t,[{key:"render",value:function(){return r.a.createElement("div",{className:"IdleDriversBox"},r.a.createElement("h3",{className:"blue-back white-text"},"Idle Drivers"),r.a.createElement("ul",null,this.renderIdleDriversList()))}}]),t}(n.Component);$.contextType=g;var Q=$,J=function(e){function t(e){var a;return Object(p.a)(this,t),(a=Object(h.a)(this,Object(v.a)(t).call(this,e))).state={},a}return Object(E.a)(t,e),Object(d.a)(t,[{key:"render",value:function(){return r.a.createElement("section",{className:"DashboardPage width-wrapper"},r.a.createElement("div",{className:"add-links"},r.a.createElement(b.b,{className:"add-load app-button",to:"".concat(A.BASEPATH,"/load/new")},"Add Load"),r.a.createElement(b.b,{className:"add-load app-button",to:"".concat(A.BASEPATH,"/driver/new")},"Add Driver"),r.a.createElement(b.b,{className:"add-load app-button",to:"".concat(A.BASEPATH,"/equipment/new")},"Add Equipment")),r.a.createElement(G,{oldLoadStatus:"un-assigned",loadStatus:["un-assigned"],boxHeader:"Un Assigned Loads"}),r.a.createElement(G,{oldLoadStatus:"dispatched",loadStatus:["in transit","loading","dispatched","unloading"],boxHeader:"Loads in progress"}),r.a.createElement(Q,null))}}]),t}(n.Component),X=(a(52),{getCarrierData:function(){return fetch("".concat(A.API_ENDPOINT,"/carrier"),{method:"GET",headers:{"content-type":"application/json",Authorization:"bearer ".concat(L.getAuthToken())}}).then((function(e){return e.json()})).then((function(e){return e})).catch((function(e){console.log(e)}))},getCarrierInfo:function(){return fetch("".concat(A.API_ENDPOINT,"/carrier-info"),{method:"GET",headers:{"content-type":"application/json",Authorization:"bearer ".concat(L.getAuthToken())}}).then((function(e){return e.json()})).then((function(e){return e})).catch((function(e){console.log(e)}))}}),ee=function(e){function t(e){var a;return Object(p.a)(this,t),(a=Object(h.a)(this,Object(v.a)(t).call(this,e))).getCarrierInfoInComponent=Object(m.a)(u.a.mark((function e(){var t;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,X.getCarrierInfo().then((function(e){return a.context.setLoggedInCarrier(e),e})).catch((function(e){return e}));case 2:t=e.sent,a.setState({carrier:t[0]});case 4:case"end":return e.stop()}}),e)}))),a.state={carrier:{}},a.handleLogout=function(){a.context.setLoggedIn(!1),L.clearAuthToken(),a.props.history.push("/")},a.state={carrier:{}},a.getCarrierInfoInComponent(),a}return Object(E.a)(t,e),Object(d.a)(t,[{key:"render",value:function(){var e=this;return r.a.createElement("div",{className:"Logout width-wrapper"},"Welcome, ",r.a.createElement("span",{className:"carrier-name red-text"},this.state.carrier.full_name),", ",r.a.createElement("button",{className:"app-link",onClick:function(){e.handleLogout()}},"Logout"))}}]),t}(n.Component);ee.contextType=g;var te=ee,ae={getDriversData:function(){return fetch("".concat(A.API_ENDPOINT,"/drivers"),{method:"GET",headers:{"content-type":"application/json",Authorization:"bearer ".concat(L.getAuthToken())}}).then((function(e){return e.json()})).then((function(e){return e})).catch((function(e){console.log(e)}))},getIdleDrivers:function(){return fetch("".concat(A.API_ENDPOINT,"/drivers/idle"),{method:"GET",headers:{"content-type":"application/json",Authorization:"bearer ".concat(L.getAuthToken())}}).then((function(e){return e.json()})).then((function(e){return e})).catch((function(e){console.log(e)}))},updateEquipment:function(e,t){}},ne={getEquipments:function(){return fetch("".concat(A.API_ENDPOINT,"/equips"),{method:"GET",headers:{"content-type":"application/json",Authorization:"bearer ".concat(L.getAuthToken())}}).then((function(e){return e.json()})).then((function(e){return e})).catch((function(e){console.log(e)}))},addNewEquipment:function(e){console.log(e)},updateEquipment:function(e,t){}},re=(a(53),function(e){function t(){return Object(p.a)(this,t),Object(h.a)(this,Object(v.a)(t).apply(this,arguments))}return Object(E.a)(t,e),Object(d.a)(t,[{key:"render",value:function(){return r.a.createElement("section",{className:"LoadsPage width-wrapper"},r.a.createElement(G,{loadStatus:"all"}))}}]),t}(n.Component)),ie=(a(54),a(55),function(e){function t(e){var a;return Object(p.a)(this,t),(a=Object(h.a)(this,Object(v.a)(t).call(this,e))).handleDeleteEquipment=function(e){var t=a.context.equipments,n=a.context,r=n.drivers,i=n.idleDrivers;t=t.filter((function(t){return t.id!==e})),r.map((function(t){return t.equipment.id===e&&(t.equipment={}),t})),i.map((function(t){return t.equipment.id===e&&(t.equipment={}),t})),a.context.setEquipments(t),a.context.setDrivers(r),a.context.setIdleDrivers(i)},a.state={editingMode:!1},a}return Object(E.a)(t,e),Object(d.a)(t,[{key:"render",value:function(){var e=this,t=this.props.equipment,a=this.context,n=a.idleEquipments,i=a.shipments,c=-1;return H(n.filter((function(e){return e.id===t.id})))&&t.driver.hasOwnProperty("id")&&(c=i.filter((function(e){return e.equipment.id===t.id}))[0].id),r.a.createElement("div",{className:"EquipmentCard grey-back blue-text"},r.a.createElement("div",{className:"flex-row"},r.a.createElement("div",{className:"equip-num"},r.a.createElement("h6",null,"Unit Num"),r.a.createElement("p",null,t.unit_num)),null!==t.driver&&r.a.createElement("div",{className:"equip-driver"},r.a.createElement("h6",null,"Driver"),r.a.createElement("p",{className:t.driver.full_name?"":"no-driver"},t.driver.full_name?t.driver.full_name:"No Driver Assigned"))),-1===c?r.a.createElement("div",{className:"equipment-buttons"},r.a.createElement(b.b,{className:"app-button",to:"".concat(A.BASEPATH,"/equipment/edit/").concat(t.id)},"Edit"),r.a.createElement("button",{className:"app-button",onClick:function(){e.handleDeleteEquipment(t.id)}},"Delete")):r.a.createElement("div",{className:"equipment-buttons"},r.a.createElement("span",null,"Equipment Busy"),r.a.createElement(b.b,{className:"app-button",to:"".concat(A.BASEPATH,"/load/").concat(c)},"View Load")))}}]),t}(n.Component));ie.contextType=g;var ce=ie,se=function(e){function t(){var e,a;Object(p.a)(this,t);for(var n=arguments.length,i=new Array(n),c=0;c<n;c++)i[c]=arguments[c];return(a=Object(h.a)(this,(e=Object(v.a)(t)).call.apply(e,[this].concat(i)))).handleAddEquipment=function(e){e.preventDefault(),console.log("Equipment Add Submitted")},a.renderEquipmentList=function(){var e=a.context.equipments;return(e=e.filter((function(e){return"active"===e.status}))).map((function(e){return r.a.createElement("li",{key:e.id},r.a.createElement(ce,{equipment:e}))}))},a}return Object(E.a)(t,e),Object(d.a)(t,[{key:"render",value:function(){return r.a.createElement("section",{className:"EquipmentPage width-wrapper"},r.a.createElement("div",{className:"box"},r.a.createElement("h3",{className:"box-header blue-back white-text"},"Equipment List"),r.a.createElement("ul",{className:"equipment-list"},this.renderEquipmentList())))}}]),t}(n.Component);se.contextType=g;var le=se,oe=(a(56),function(e){function t(){var e,a;Object(p.a)(this,t);for(var n=arguments.length,i=new Array(n),c=0;c<n;c++)i[c]=arguments[c];return(a=Object(h.a)(this,(e=Object(v.a)(t)).call.apply(e,[this].concat(i)))).renderDrivers=function(e){return e.map((function(e){return"active"===e.status?r.a.createElement("li",{key:e.id},r.a.createElement(R,{driver:e})):""}))},a}return Object(E.a)(t,e),Object(d.a)(t,[{key:"render",value:function(){var e=this.context.drivers;return r.a.createElement("section",{className:"DriversPage width-wrapper"},r.a.createElement("h4",{className:"blue-back white-text"},"Drivers List"),r.a.createElement("ul",{className:"drivers-list"},this.renderDrivers(e)))}}]),t}(n.Component));oe.contextType=g;var ue=oe,me=(a(57),a(58),function(e){function t(e){var a;return Object(p.a)(this,t),(a=Object(h.a)(this,Object(v.a)(t).call(this,e))).handleChange=function(e){a.setState({optionsValue:e.target.value})},a.renderDriverOptions=function(e){if(e!==[])return e.map((function(e,t){return r.a.createElement("option",{value:e.id,key:t,defaultValue:!0},e.full_name)}))},a.state={optionsValue:e.defaultValue},a}return Object(E.a)(t,e),Object(d.a)(t,[{key:"render",value:function(){var e=this,t=this.props,a=t.className,n=void 0===a?"select-css":a,i=t.drivers,c=void 0===i?[]:i,s=t.name,l=void 0===s?"driver":s,o=t.id,u=void 0===o?"driver":o;return r.a.createElement("div",{className:"DriversDropDown"},r.a.createElement("select",{className:n,name:l,id:u,value:this.state.optionsValue,onChange:function(t){e.handleChange(t)}},r.a.createElement("option",{value:"-1"},"No Driver"),this.renderDriverOptions(c)))}}]),t}(n.Component));me.defaultProps={drivers:[],defaultValue:0,className:"select-css",name:"driver",id:"driver"};var pe=me,de=function(e){function t(e){var a;Object(p.a)(this,t),(a=Object(h.a)(this,Object(v.a)(t).call(this,e))).giveEquipment=function(e,t){return e.equipment={id:t.id,unit_num:t.unit_num,status:"active"},e},a.takeAwayEquipment=function(e){return e.equipment={},e},a.setDriverForEquipment=function(e,t){return e.driver=t,e},a.removeDriverFromEquipment=function(e){return e.driver={},e},a.changeEquipmentForDriver=function(e,t,n,r,i){return t.id===n&&-1!==n?(t=a.giveEquipment(t,i),e.map((function(e){return r===e.id&&(e=a.takeAwayEquipment(e)),e}))):t.id===r&&(t=a.takeAwayEquipment(t)),t},a.handleEquipmentEdit=function(e,t){e.preventDefault();var n=t[0],r=void 0===n.driver.id?-1:n.driver.id,i=a.state.inIdleQueue?parseInt(e.target.driver.value,10):r,c=e.target["unit-num"].value,s=a.props,l=s.equipments,o=s.idleDrivers,u=s.drivers;if(i!==r){o.map((function(e){return e=a.changeEquipmentForDriver(o,e,i,r,n)})),u.map((function(e){return e=a.changeEquipmentForDriver(u,e,i,r,n)}));var m=!1;l.map((function(e){return-1===r?e=a.setDriverForEquipment(n,o.filter((function(e){return e.id===i}))[0]):(i!==e.driver.id&&-1!==i||m||e.id===n.id&&(e=a.removeDriverFromEquipment(n),m=!0),e.id===n.id&&-1!==i&&(e=a.setDriverForEquipment(n,o.filter((function(e){return e.id===i}))[0]))),e}))}c!==n.unit_num&&(l.map((function(e){return e.id===n.id&&(e.unit_num=c),e})),o.map((function(e){return e.equipment.id===n.id&&(e.equipment.unit_num=c),e})),u.map((function(e){return e.equipment.id===n.id&&(e.equipment.unit_num=c),e}))),a.context.setIdleDrivers(o),a.context.setEquipments(l),a.context.setDrivers(u),M(a.props.rprops.history)},a.validateUnitNum=function(e){var t=e.target.value;a.setState({unitNum:t}),""===t.trim()?a.setState({error:"Invalid Unit Num",unitNumError:!0}):a.setState({error:"",unitNumError:!1})};var n=e.equipments,r=e.idleDrivers,i=a.props.rprops.match.params.id,c=n.filter((function(e){return e.id===parseInt(i,10)})),s={},l=r.filter((function(e){return Z(e.equipment)})),o="",u=-1,m=!0;return void 0!==c[0]&&(s=c[0].driver,o=c[0].unit_num,-1!==(u=s.id?s.id:u)&&(l.unshift(s),m=!H(r.filter((function(e){return s.id===e.id}))))),a.state={error:"",unitNumError:!1,unitNum:o,equipment:c,availableDrivers:l,currentDriver:u,inIdleQueue:m},a}return Object(E.a)(t,e),Object(d.a)(t,[{key:"render",value:function(){var e=this,t=this.state,a=t.unitNum,n=t.equipment,i=t.availableDrivers,c=t.currentDriver;return r.a.createElement("section",{className:"EquipmentEditPage width-wrapper"},r.a.createElement("form",{className:"edit-equip",onSubmit:function(t){e.handleEquipmentEdit(t,n)}},r.a.createElement("fieldset",null,r.a.createElement("legend",{className:"blue-back white-text"},r.a.createElement("button",{type:"button",className:"app-button go-back",onClick:function(t){M(e.props.rprops.history)}},"Go Back"),r.a.createElement("span",null,"Edit Equipment")),r.a.createElement("div",{className:"flex"},r.a.createElement("label",{htmlFor:"unit-num"},r.a.createElement("span",{className:"input-title"},"Unit Num:"),r.a.createElement("input",{type:"text",id:"unit-num",name:"unit-num",required:!0,value:a,onChange:function(t){e.validateUnitNum(t)}}),this.state.unitNumError&&r.a.createElement("span",{className:"error"},this.state.error)),this.state.inIdleQueue&&r.a.createElement("label",{htmlFor:"driver"},r.a.createElement("span",{className:"input-title"},"Available Drivers"),void 0!==n[0]&&r.a.createElement(pe,{name:"driver",id:"driver",drivers:i,className:"select-css",defaultValue:c})),r.a.createElement("button",{className:"app-button",type:"submit"},"Save Changes")))))}}]),t}(n.Component);de.defaultProps={equipments:{},idleDrivers:{},rprops:{}},de.contextType=g;var he=de,ve=a(16);a(59);function Ee(e){return""===e.trim()}function fe(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function be(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?fe(a,!0).forEach((function(t){Object(ve.a)(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):fe(a).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}var ge=function(e){function t(e){var a;return Object(p.a)(this,t),(a=Object(h.a)(this,Object(v.a)(t).call(this,e))).validateInputDate=function(e){var t=e.target.value,n=e.target.name;"pickup-date"===n?a.setState({pickupDate:t}):a.setState({deliveryDate:t}),!function(e){return e.length<8||!/^(0?[1-9]|1[0-2])\/(0?[1-9]|1\d|2\d|3[01])\/(15|18|17|16|19|20|21|23|24|25)\d{2}$/.test(e)}(t)?"pickup-date"===n?a.setState({error:be({},a.state.error,{pickupDate:!1})}):a.setState({error:be({},a.state.error,{deliveryDate:!1})}):"pickup-date"===n?a.setState({error:be({},a.state.error,{pickupDate:!0})}):a.setState({error:be({},a.state.error,{deliveryDate:!0})})},a.validateCityInput=function(e){var t=e.target.value,n=e.target.name;"pickup-city"===n?a.setState({pickupCity:t}):a.setState({deliveryCity:t}),Ee(t)?"pickup-city"===n?a.setState({error:be({},a.state.error,{pickupCity:!0})}):a.setState({error:be({},a.state.error,{deliveryCity:!0})}):"pickup-city"===n?a.setState({error:be({},a.state.error,{pickupCity:!1})}):a.setState({error:be({},a.state.error,{deliveryCity:!1})})},a.validateStateInput=function(e){var t=e.target.value,n=e.target.name;"pickup-state"===n?a.setState({pickupState:t}):a.setState({deliveryState:t}),Ee(t)?"pickup-state"===n?a.setState({error:be({},a.state.error,{pickupState:!0})}):a.setState({error:be({},a.state.error,{deliveryState:!0})}):"pickup-state"===n?a.setState({error:be({},a.state.error,{pickupState:!1})}):a.setState({error:be({},a.state.error,{deliveryState:!1})})},a.validateZipcodeInput=function(e){var t=e.target.value,n=e.target.name;"pickup-zipcode"===n?a.setState({pickupZipcode:t}):a.setState({deliveryZipcode:t}),Ee(t)?"pickup-zipcode"===n?a.setState({error:be({},a.state.error,{pickupZipcode:!0})}):a.setState({error:be({},a.state.error,{deliveryZipcode:!0})}):"pickup-zipcode"===n?a.setState({error:be({},a.state.error,{pickupZipcode:!1})}):a.setState({error:be({},a.state.error,{deliveryZipcode:!1})})},a.getAvailableDrivers=function(){return a.context.idleDrivers.filter((function(e){return!(0===Object.entries(e.equipment).length&&e.equipment.constructor===Object)}))},a.updateIdleDriverQueue=function(e){var t=a.context.idleDrivers;t=t.filter((function(t){return t.id!==e})),a.context.setIdleDrivers(t)},a.handleAddLoad=function(e){e.preventDefault();var t=e.target.broker.value.trim()||"",n={city:e.target["delivery-city"].value.trim(),state:e.target["delivery-state"].value,zipcode:e.target["delivery-zipcode"].value.trim()},r={city:e.target["pickup-city"].value.trim(),state:e.target["pickup-state"].value,zipcode:e.target["pickup-zipcode"].value.trim()},i=e.target.miles.value.trim()||"0",c=e.target.rate.value.trim()||"0",s=parseInt(e.target.driver.value,10),o={},u={},m="un-assigned";-1!==s&&(a.context.drivers.map((function(e){return e.id===s&&(o={id:s,full_name:e.full_name,pay_rate:e.pay_rate,status:e.status},u={id:e.equipment.id,status:e.equipment.status,unit_num:e.equipment.unit_num}),e})),a.updateIdleDriverQueue(s),m="dispatched");var p=e.target["pickup-date"].value,d=e.target["delivery-date"].value,h={id:a.context.shipments.length+50,pickup_date:p,delivery_date:d,broker:t,delivery_warehouse:n,pickup_warehouse:r,miles:i,driver:o,equipment:u,rate:c,status:m};a.context.setShipments([].concat(Object(l.a)(a.context.shipments),[h])),M(a.props.history)},a.state={hasError:!1,availableDrivers:[],error:{dateError:'Enter Date in correct format "MM/DD/YYYY"',pickupDate:!1,deliveryDate:!1,cityError:"City is required",pickupCity:!1,deliveryCity:!1,stateError:"State is required",pickupState:!1,deliveryState:!1,zipcodeError:"Zipcode is required",pickupZipcode:!1,deliveryZipcode:!1},pickupDate:V(new Date),deliveryDate:V(new Date),pickupCity:"",deliveryCity:"",pickupState:"",deliveryState:"",pickupZipcode:"",deliveryZipcode:"",miles:"",rate:"",broker:""},a}return Object(E.a)(t,e),Object(d.a)(t,[{key:"render",value:function(){var e=this,t=this.getAvailableDrivers(),a=this.state.error;return r.a.createElement("section",{className:"AddLoadPage width-wrapper"},r.a.createElement("form",{className:"add-load-form",onSubmit:function(t){e.handleAddLoad(t)}},r.a.createElement("fieldset",null,r.a.createElement("legend",{className:"blue-back white-text"},r.a.createElement("button",{type:"button",className:"app-button go-back",onClick:function(t){M(e.props.history)}},"Go Back"),r.a.createElement("span",null,"Add Load")),r.a.createElement("div",{className:"flex"},r.a.createElement("h4",{className:"fieldset-sub-title blue-text"},"Pick Up Info"),r.a.createElement("label",{htmlFor:"pickup-date"},r.a.createElement("span",{className:"input-title"},"* Date"),r.a.createElement("input",{type:"text",id:"pickup-date",name:"pickup-date",maxLength:"10",value:this.state.pickupDate,onChange:function(t){e.validateInputDate(t)},onBlur:function(t){""===t.target.value&&e.setState({pickupDate:V(new Date),error:be({},e.state.error,{pickupDate:!1})})}}),a.pickupDate&&r.a.createElement("span",{className:"error"},a.dateError)),r.a.createElement("label",{htmlFor:"pickup-city"},r.a.createElement("span",{className:"input-title"},"* City"),r.a.createElement("input",{type:"text",id:"pickup-city",name:"pickup-city",placeholder:"Eg. Dallas",required:!0,value:this.state.pickupCity,onChange:function(t){e.validateCityInput(t)}}),a.pickupCity&&r.a.createElement("span",{className:"error"},a.cityError)),r.a.createElement("label",{htmlFor:"pickup-state"},r.a.createElement("span",{className:"input-title"},"* State"),r.a.createElement("input",{type:"text",placeholder:"Eg. TX",maxLength:"2",id:"pickup-state",name:"pickup-state",required:!0,value:this.state.pickupState,onChange:function(t){e.validateStateInput(t)}}),this.state.error.pickupState&&r.a.createElement("span",{className:"error"},this.state.error.stateError)),r.a.createElement("label",{htmlFor:"pickup-zipcode"},r.a.createElement("span",{className:"input-title"},"* Zipcode"),r.a.createElement("input",{type:"text",id:"pickup-zipcode",maxLength:"10",name:"pickup-zipcode",placeholder:"Eg. 75001",required:!0,value:this.state.pickupZipcode,onChange:function(t){e.validateZipcodeInput(t)}}),this.state.error.pickupZipcode&&r.a.createElement("span",{className:"error"},this.state.error.zipcodeError)),r.a.createElement("h4",{className:"fieldset-sub-title blue-text"},"Delivery Info"),r.a.createElement("label",{htmlFor:"delivery-date"},r.a.createElement("span",{className:"input-title"},"* Date"),r.a.createElement("input",{type:"text",id:"delivery-date",name:"delivery-date",maxLength:"10",value:this.state.deliveryDate,onChange:function(t){e.validateInputDate(t)},onBlur:function(t){""===t.target.value&&e.setState({deliveryDate:V(new Date),error:be({},e.state.error,{deliveryDate:!1})})}}),this.state.error.deliveryDate&&r.a.createElement("span",{className:"error"},this.state.error.dateError)),r.a.createElement("label",{htmlFor:"delivery-city"},r.a.createElement("span",{className:"input-title"},"* City"),r.a.createElement("input",{type:"text",id:"delivery-city",name:"delivery-city",placeholder:"Eg. Indianapolis",required:!0,value:this.state.deliveryCity,onChange:function(t){e.validateCityInput(t)}}),this.state.error.deliveryCity&&r.a.createElement("span",{className:"error"},this.state.error.cityError)),r.a.createElement("label",{htmlFor:"delivery-state"},r.a.createElement("span",{className:"input-title"},"* State"),r.a.createElement("input",{type:"text",placeholder:"Eg. IN",maxLength:"2",id:"delivery-state",name:"delivery-state",required:!0,value:this.state.deliveryState,onChange:function(t){e.validateStateInput(t)}}),this.state.error.deliveryState&&r.a.createElement("span",{className:"error"},this.state.error.stateError)),r.a.createElement("label",{htmlFor:"delivery-zipcode"},r.a.createElement("span",{className:"input-title"},"* Zipcode"),r.a.createElement("input",{type:"text",id:"delivery-zipcode",name:"delivery-zipcode",maxLength:"10",placeholder:"Eg. 46225",required:!0,value:this.state.deliveryZipcode,onChange:function(t){e.validateZipcodeInput(t)}}),this.state.error.deliveryZipcode&&r.a.createElement("span",{className:"error"},this.state.error.zipcodeError)),r.a.createElement("h4",{className:"fieldset-sub-title blue-text"},"Additional Info"),r.a.createElement("label",{htmlFor:"miles"},r.a.createElement("span",{className:"input-title"},"Miles"),r.a.createElement("input",{type:"number",min:"0",id:"miles",name:"miles"})),r.a.createElement("label",{htmlFor:"rate"},r.a.createElement("span",{className:"input-title"},"Rate"),r.a.createElement("input",{type:"number",min:"0",id:"rate",name:"rate"})),r.a.createElement("label",{htmlFor:"broker"},r.a.createElement("span",{className:"input-title"},"Broker"),r.a.createElement("input",{type:"text",id:"broker",name:"broker"})),r.a.createElement("label",{htmlFor:"driver"},r.a.createElement("span",{className:"input-title"},"Assign Driver"),r.a.createElement(pe,{name:"driver",id:"driver",drivers:t,className:"select-css"})),a.pickupCity||a.deliveryCity||a.pickupDate||a.deliveryDate||a.pickupState||a.deliveryState||a.pickupZipcode||a.deliveryZipcode?r.a.createElement("button",{className:"app-button",type:"submit",disabled:!0},"Add New Load"):r.a.createElement("button",{className:"app-button",type:"submit"},"Add New Load")))))}}]),t}(n.Component);ge.contextType=g;var ye=ge;a(60);function Ne(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function Oe(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?Ne(a,!0).forEach((function(t){Object(ve.a)(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):Ne(a).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}var ke=function(e){function t(e){var a;Object(p.a)(this,t),(a=Object(h.a)(this,Object(v.a)(t).call(this,e))).removeDriverAndEquipmentFromShipment=function(e){return e.driver={},e.equipment={},e},a.handleChangeLoadStatus=function(e){e.preventDefault();var t=a.state.status;a.setState({shipment:Oe({},a.state.shipment,{status:t})},(function(){var e=a.state.shipment,n=a.props.shipments;n=n.map((function(n){return n.id===e.id&&(n.status=t,"un-assigned"===t&&(n=a.removeDriverAndEquipmentFromShipment(n))),n})),a.context.setShipments(n)}))};var n=parseInt(a.props.rprops.match.params.id,10),r=a.props.shipments,i={},c="";return H(r)||(c=(i=r.filter((function(e){return e.id===n}))[0]).status),console.log(c),a.state={shipment:i,status:c},a}return Object(E.a)(t,e),Object(d.a)(t,[{key:"render",value:function(){var e=this,t=this.state.shipment;return Z(t)?r.a.createElement(r.a.Fragment,null):r.a.createElement("section",{className:"LoadByIdPage width-wrapper"},r.a.createElement("div",{className:"flex-row"},r.a.createElement("div",{className:"pick-up-info box-style"},r.a.createElement("h3",null,"Pick Up Info"),r.a.createElement("div",{className:"pickup info-wrapper"},r.a.createElement("div",{className:"pickup info date"},r.a.createElement("h6",null,"Date"),r.a.createElement("p",null,t.pickup_date)),r.a.createElement("div",{className:"pickup info city"},r.a.createElement("h6",null,"City, ST"),r.a.createElement("p",null,t.pickup_warehouse.city,", ",t.pickup_warehouse.state)),r.a.createElement("div",{className:"pickup info state"},r.a.createElement("h6",null,"Zipcode"),r.a.createElement("p",null,t.pickup_warehouse.zipcode)))),r.a.createElement("div",{className:"delivery-info box-style"},r.a.createElement("h3",null,"Delivery Info"),r.a.createElement("div",{className:"delivery info-wrapper"},r.a.createElement("div",{className:"delivery info"},r.a.createElement("h6",null,"Delivery Date"),r.a.createElement("p",null,t.delivery_date)),r.a.createElement("div",{className:"delivery info city"},r.a.createElement("h6",null,"City, ST"),r.a.createElement("p",null,t.delivery_warehouse.city,", ",t.delivery_warehouse.state)),r.a.createElement("div",{className:"delivery info state"},r.a.createElement("h6",null,"Zipcode"),r.a.createElement("p",null,t.delivery_warehouse.zipcode))))),r.a.createElement("div",{className:"additional-info box-style"},r.a.createElement("h3",null,"Additional Info"),r.a.createElement("div",{className:"flex-row"},r.a.createElement("div",{className:"additional-info info-wrapper"},r.a.createElement("div",{className:"additional-info info"},r.a.createElement("h6",null,"Miles"),r.a.createElement("p",null,t.miles)),r.a.createElement("div",{className:"additional-info info city"},r.a.createElement("h6",null,"Rate"),r.a.createElement("p",{className:"red-text"},"$",t.rate)),r.a.createElement("div",{className:"additional-info info state"},r.a.createElement("h6",null,"Broker"),r.a.createElement("p",null,t.broker))),r.a.createElement("div",{className:"additional-info change-status"},r.a.createElement("div",{className:"additional-info info"},r.a.createElement("form",{onSubmit:function(t){e.handleChangeLoadStatus(t)}},r.a.createElement("fieldset",null,r.a.createElement("legend",null,r.a.createElement("h6",null,"Status")),"un-assigned"!==t.status?r.a.createElement("select",{className:"select-css",name:"status",id:"status",value:this.state.status,onChange:function(t){e.setState({status:t.target.value})}},K(this.context.loadStatus)):r.a.createElement("select",{className:"select-css",name:"status",id:"status",disabled:!0,defaultValue:this.state.status},K(this.context.loadStatus)),this.state.status!==t.status?r.a.createElement("button",{type:"submit",className:"app-button"},"Change Status"):r.a.createElement("button",{className:"app-button",disabled:!0},"Change Status"))))))),"un-assigned"!==t.status?r.a.createElement("div",{className:"driver-info box-style"},r.a.createElement("h3",null,"Driver Info"),r.a.createElement("div",{className:"flex-row"},r.a.createElement("div",{className:"additional-info info-wrapper"},r.a.createElement("div",{className:"additional-info info"},r.a.createElement("h6",null,"Driver"),r.a.createElement("p",null,t.driver.full_name)),r.a.createElement("div",{className:"additional-info info city"},r.a.createElement("h6",null,"Pay per Mile"),r.a.createElement("p",null,"$",t.driver.pay_rate))),r.a.createElement("div",{className:"additional-info info-wrapper"},r.a.createElement("div",{className:"additional-info info state"},r.a.createElement("h6",null,"Drvier Payout"),r.a.createElement("p",{className:"red-text"},"$",t.driver.pay_rate*t.miles)),r.a.createElement("div",{className:"additional-info info"},r.a.createElement("h6",null,"Equipment #"),r.a.createElement("p",null,t.equipment.unit_num))))):r.a.createElement("div",{className:"driver-info box-style"},r.a.createElement("h3",null,"Assign Driver"),r.a.createElement("div",{className:"assign-driver"},"Assign Driver Section")))}}]),t}(n.Component);ke.defaultProps={rprops:{},shipments:[]},ke.contextType=g;var De=ke,je=function(e){function t(e){var a;return Object(p.a)(this,t),(a=Object(h.a)(this,Object(v.a)(t).call(this,e))).getShipments=Object(m.a)(u.a.mark((function e(){return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",X.getCarrierData().then((function(e){return e})).catch((function(e){return console.log(e)})));case 1:case"end":return e.stop()}}),e)}))),a.getDrivers=Object(m.a)(u.a.mark((function e(){return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",ae.getDriversData().then((function(e){return e})).catch((function(e){return console.log(e)})));case 1:case"end":return e.stop()}}),e)}))),a.getIdleDrivers=Object(m.a)(u.a.mark((function e(){return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",ae.getIdleDrivers().then((function(e){return e.map((function(e){return Z(e.equipment)||a.setState({idleEquipments:[].concat(Object(l.a)(a.state.idleEquipments),[e.equipment])}),e})),e})).catch((function(e){return console.log(e)})));case 1:case"end":return e.stop()}}),e)}))),a.getEquipments=Object(m.a)(u.a.mark((function e(){return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",ne.getEquipments().then((function(e){return e})).catch((function(e){return console.log(e)})));case 1:case"end":return e.stop()}}),e)}))),a.getAllData=Object(m.a)(u.a.mark((function e(){return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!L.hasAuthToken()){e.next=3;break}return e.next=3,Promise.all([a.getShipments(),a.getDrivers(),a.getEquipments(),a.getIdleDrivers()]).then((function(e){var t=Object(s.a)(e,4),n=t[0],r=t[1],i=t[2],c=t[3];a.setState({shipments:n,drivers:r,equipments:i,idleDrivers:c})})).catch((function(e){return console.log(e)}));case 3:case"end":return e.stop()}}),e)}))),a.componentDidMount=function(){a.setState({loggedIn:L.hasAuthToken()}),a.getAllData()},a.setLoggedIn=function(e){a.setState({loggedIn:e})},a.setLoggedInCarrier=function(e){a.setState({loggedInCarrier:e})},a.setShipments=function(e){a.setState({shipments:e})},a.setEquipments=function(e){a.setState({equipments:e})},a.setDrivers=function(e){a.setState({drivers:e})},a.setIdleDrivers=function(e){var t=[];a.setState({idleEquipments:t}),e.map((function(e){return Z(e.equipment)||(t.push(e.equipment),a.setState({idleEquipments:t})),e})),a.setState({idleDrivers:e})},a.setNewUser=function(e){a.setState({newUser:e})},a.state={basePath:"/dispatch-office-client",loggedIn:!1,newUser:!1,shipments:[],drivers:[],idleDrivers:[],idleEquipments:[],equipments:[],loggedInCarrier:{full_name:"",company_name:"",mc_num:""}},a}return Object(E.a)(t,e),Object(d.a)(t,[{key:"render",value:function(){var e=this,t={basePath:this.state.basePath,loggedIn:this.state.loggedIn,newUser:this.state.newUser,setLoggedIn:this.setLoggedIn,setNewUser:this.setNewUser,setShipments:this.setShipments,setEquipments:this.setEquipments,setIdleDrivers:this.setIdleDrivers,setDrivers:this.setDrivers,setLoggedInCarrier:this.setLoggedInCarrier,loggedInCarrier:this.state.loggedInCarrier,shipments:this.state.shipments,idleDrivers:this.state.idleDrivers,equipments:this.state.equipments,drivers:this.state.drivers,idleEquipments:this.state.idleEquipments,getAllData:this.getAllData,loadStatus:["un-assigned","dispatched","loading","in transit","unloading","completed"]};return r.a.createElement(g.Provider,{value:t},r.a.createElement("div",{className:"App"},r.a.createElement(j,null),this.state.loggedIn&&r.a.createElement(f.b,{path:"/",component:te}),r.a.createElement(f.d,null,r.a.createElement(f.b,{exact:!0,path:"/"},r.a.createElement(f.a,{to:t.basePath})),r.a.createElement(f.b,{exact:!0,path:t.basePath,component:q}),r.a.createElement(f.b,{exact:!0,path:"".concat(t.basePath,"/create-account"),component:P}),r.a.createElement(f.b,{exact:!0,path:"".concat(t.basePath,"/login"),component:z}),r.a.createElement(f.b,{exact:!0,path:"".concat(t.basePath,"/dashboard"),component:J}),r.a.createElement(f.b,{exact:!0,path:"".concat(t.basePath,"/loads"),component:re}),r.a.createElement(f.b,{exact:!0,path:"".concat(t.basePath,"/equipments"),component:le}),r.a.createElement(f.b,{exact:!0,path:"".concat(t.basePath,"/drivers"),component:ue}),r.a.createElement(f.b,{exact:!0,path:"".concat(t.basePath,"/equipment/edit/:id"),component:function(t){return r.a.createElement(he,{rprops:t,equipments:e.state.equipments,idleDrivers:e.state.idleDrivers,drivers:e.state.drivers})}}),r.a.createElement(f.b,{exact:!0,path:"".concat(t.basePath,"/load/new"),component:ye}),r.a.createElement(f.b,{exact:!0,path:"".concat(t.basePath,"/load/:id"),component:function(t){return r.a.createElement(De,{rprops:t,shipments:e.state.shipments})}}))))}}]),t}(n.Component);c.a.render(r.a.createElement(b.a,null,r.a.createElement(je,null)),document.getElementById("root"))}]),[[27,1,2]]]);
//# sourceMappingURL=main.67819b5b.chunk.js.map