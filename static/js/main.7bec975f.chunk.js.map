{"version":3,"sources":["Components/Header/Header.js","Contexts/AppContext.js","Components/HomePageSection/HomePageSection.js","Routes/HomePage/HomePage.js","HelperFunctions/HelperFunctions.js","Components/CreateAccount/CreateAccount.js","Routes/CreateAccountPage/CreateAccountPage.js","config.js","Services/TokenService.js","Services/AuthApiService.js","Components/LoginForm/LoginForm.js","Routes/LoginPage/LoginPage.js","Components/App/App.js","index.js"],"names":["Header","className","to","Component","React","createContext","basePath","loggedIn","newUser","setLoggedIn","setNewUser","HomePageSection","this","context","contextType","AppContext","HomePage","validateUserName","e","target","value","validatePassword","CreateAccount","handleFormSubmit","preventDefault","username","password","full_name","company_name","mc_num","user","console","log","onSubmit","htmlFor","type","id","name","required","onChange","CreateAccountPage","API_ENDPOINT","process","TOKEN_KEY","TokenService","saveAuthToken","token","window","localStorage","setItem","config","getAuthToken","getItem","clearAuthToken","removeItem","hasAuthToken","makeBasicAuthToken","userName","btoa","AuthApiService","postLogin","credentials","fetch","method","headers","body","JSON","stringify","then","res","ok","json","Error","error","message","catch","LoginForm","state","incorrectUsername","incorrectPassword","handleSubmitLoginForm","setState","focus","props","onLoginSuccess","defaultProps","LoginPage","history","push","App","componentDidMount","Provider","exact","path","component","ReactDOM","render","document","getElementById"],"mappings":"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","file":"static/js/main.7bec975f.chunk.js","sourcesContent":["import React, { Component } from 'react';\nimport './Header.css';\nimport { Link } from 'react-router-dom';\n\nclass Header extends Component {\n\n    render() {\n        return (\n            <header className='Header blue-back white-text'>\n                <div className='width-wrapper'>\n                    <Link to='/'>\n                        <div className='logo'>\n                            <span>Dispatch</span>\n                            <span>Office</span>\n                        </div>\n                    </Link>\n                    <div className='menu'>\n\n                        {/* Display Nav Button Only When User is setup */}\n                        <nav className=''>\n                            <button className='mobile-nav-button blue-back'>\n                                <div className='l1 white-back'></div>\n                                <div className='l2 white-back'></div>\n                                <div className='l3 white-back'></div>\n                            </button>\n                        </nav>\n                    </div>\n                </div>\n            </header>\n        );\n    }\n}\n\nexport default Header;","import React from 'react';\n\nexport default React.createContext({\n    basePath: '',\n    loggedIn: () => {},\n    newUser: () => {},\n    setLoggedIn: () => {},\n    setNewUser: () => {},\n});","import React, { Component } from 'react';\nimport { Link } from 'react-router-dom';\nimport AppContext from '../../Contexts/AppContext';\n\nclass HomePageSection extends Component {\n\n    static contextType = AppContext;\n\n    render() {\n\n        const { basePath } = this.context;\n\n        return (\n            <div className='HomePageSection width-wrapper'>\n                <p>\n                    Welcome !! to <span className='span-title red-text'>Dispatch Office</span>, a transportation management\n                    system, which assists freight managers with workflow,\n                    automation and shipment scheduling.\n                </p>\n                <Link to={`${basePath}/create-account`} className='app-button'>\n                    Create Account\n                </Link>\n                <Link to={`${basePath}/login`} className='app-link'>\n                    Login\n                </Link>\n            </div>\n        );\n    }\n}\n\nexport default HomePageSection;","import React, { Component } from 'react';\nimport { Redirect } from 'react-router-dom';\nimport './HomePage.css';\nimport AppContext from '../../Contexts/AppContext';\nimport HomePageSection from '../../Components/HomePageSection/HomePageSection';\n\nclass HomePage extends Component {\n\n    static contextType = AppContext;\n\n    render() {\n        const { basePath, loggedIn, newUser } = this.context;\n        return (\n            !loggedIn\n                ?   <section className='HomePage blue-text'>\n                        <HomePageSection />\n                    </section>\n                :   !newUser\n                    ? <Redirect to={`${basePath}/dashboard`} />\n                    : <Redirect to={`${basePath}/newuser`} />\n        );\n    }\n}\n\nexport default HomePage;","export function validateUserName(e){\n    const username = e.target.value;\n    \n    // write code for validating username\n}\n\nexport function validatePassword(e){\n    const password = e.target.value;\n    \n    // Write code for validating Password\n}","import React, { Component } from 'react';\nimport './CreateAccount.css';\nimport {\n    validateUserName,\n    validatePassword\n} from '../../HelperFunctions/HelperFunctions';\n\nclass CreateAccount extends Component {\n\n    handleFormSubmit = (e) => {\n        e.preventDefault();\n        const { username, password, full_name, company_name, mc_num } = e.target\n        const user = {\n            username: username.value,\n            password: password.value,\n            company_name: company_name.value,\n            mc_num: mc_num.value,\n            full_name: full_name.value\n        }\n        console.log(user);\n    }\n\n    render() {\n        return (\n            <form className='CreateAccount width-wrapper' onSubmit={(e) => { this.handleFormSubmit(e) }}>\n                <fieldset>\n                    <legend className='blue-back white-text'>\n                        Create Account\n                    </legend>\n                    <div className='flex'>\n                        <label htmlFor='username'>\n                            <span className='input-title'>* Username:</span>\n                            <input\n                                type='text'\n                                id='username'\n                                name='username'\n                                required\n                                onChange={(e) => { validateUserName(e) }}\n                            />\n                            <span className='error'>Invalid Username</span>\n                        </label>\n                        <label htmlFor='password'>\n                            <span className='input-title'>* Password:</span>\n                            <input\n                                type='password'\n                                id='password'\n                                name='password'\n                                required\n                                onChange={(e) => { validatePassword(e) }} />\n                            <span className='error'>Password Error</span>\n                        </label>\n                        <label htmlFor='full_name'>\n                            <span className='input-title'>* Full Name:</span>\n                            <input type='text' id='full_name' name='full_name' required />\n                            <span className='error'>Invalid Username</span>\n                        </label>\n                        <label htmlFor='company_name'>\n                            <span className='input-title'>Company Name:</span>\n                            <input type='text' id='company_name' name='company_name' required />\n                            <span className='error'>Company Name Error</span>\n                        </label>\n                        <label htmlFor='mc_num'>\n                            <span className='input-title'>MC Number:</span>\n                            <input type='text' id='mc_num' name='mc_num' />\n                            <span className='error'>MC Number Error</span>\n                        </label>\n                        <button\n                            className='app-button'\n                            type='submit'\n                        >\n                            Create Account\n                        </button>\n                    </div>\n                </fieldset>\n            </form>\n        );\n    }\n}\n\nexport default CreateAccount;","import React, { Component } from 'react';\nimport './CreateAccountPage.css';\nimport AppContext from '../../Contexts/AppContext';\nimport { Redirect } from 'react-router-dom';\nimport CreateAccount from '../../Components/CreateAccount/CreateAccount';\n\nclass CreateAccountPage extends Component {\n\n    static contextType = AppContext;\n\n    render() {\n\n        const { basePath, loggedIn, newUser } = this.context;\n\n        return (\n            !loggedIn\n                ? <div className='CreateAccountPage'>\n                    <CreateAccount />\n                </div>\n                : !newUser\n                    ? <Redirect to={`${basePath}/dashboard`} />\n                    : <Redirect to={`${basePath}/newuser`} />\n        );\n    }\n}\n\nexport default CreateAccountPage;","export default {\n    API_ENDPOINT: process.env.API_ENDPOINT || 'http://localhost:8000/api',\n    TOKEN_KEY: process.env.TOKEN_KEY || '9e7d73be-f7f1-11e9-8f0b-362b9e155667',\n}","import config from '../config';\n\nconst TokenService = {\n  saveAuthToken(token) {\n    window.localStorage.setItem(config.TOKEN_KEY, token)\n  },\n  getAuthToken() {\n    return window.localStorage.getItem(config.TOKEN_KEY)\n  },\n  clearAuthToken() {\n    window.localStorage.removeItem(config.TOKEN_KEY)\n  },\n  hasAuthToken() {\n    return !!TokenService.getAuthToken()\n  },\n  makeBasicAuthToken(userName, password) {\n    return window.btoa(`${userName}:${password}`)\n  },\n}\n\nexport default TokenService","import config from '../config';\n\nconst AuthApiService = {\n    // login authorization\n    postLogin(credentials){\n        return fetch(`${config.API_ENDPOINT}/auth/login`, {\n            method: \"POST\",\n            headers: {\n                \"content-type\": \"application/json\"\n            },\n            body: JSON.stringify(credentials)\n        })\n        .then(res => {\n            if(!res.ok) {\n                return res.json().then(e => {\n                    throw new Error(e.error.message)\n                })\n            }\n            return res.json();\n        })\n        .catch(error => {\n            return error;\n        })\n    }\n}\n\nexport default AuthApiService;","import React, { Component } from 'react';\nimport './LoginForm.css';\nimport { validateUserName, validatePassword } from '../../HelperFunctions/HelperFunctions';\nimport TokenService from '../../Services/TokenService';\nimport AuthApiService from '../../Services/AuthApiService';\n\nclass LoginForm extends Component {\n\n    state = {\n        error: null,\n        incorrectUsername: false,\n        incorrectPassword: false,\n    }\n\n    static defaultProps = {\n        onLoginSuccess: () => {},\n    }\n\n    handleSubmitLoginForm = (e) => {\n        e.preventDefault();\n\n        this.setState({\n            error: null,\n            incorrectUsername: false,\n            incorrectPassword: false,\n        })\n\n        const { username, password } = e.target;\n\n\n        AuthApiService.postLogin({\n            username: username.value,\n            password: password.value\n        })\n            .then((res) => {\n                console.log(res.message);\n                if(res.message === 'Incorrect Username'){\n                    this.setState({\n                        incorrectUsername: true,\n                        error: res.message\n                    })\n                    username.value = '';\n                    password.value = '';\n                    username.focus();\n                }\n                if(res.message === 'Incorrect Password'){\n                    this.setState({\n                        incorrectPassword: true,\n                        error: res.message\n                    })\n                    password.value = '';\n                }else{\n                    username.value = '';\n                    password.value = '';\n                }\n                \n                if(res.message == null){\n                    console.log(`Good Login`);\n                    TokenService.saveAuthToken(\n                        TokenService.makeBasicAuthToken(username.value, password.value)\n                    );\n                    this.props.onLoginSuccess();\n                }\n                \n            })\n            .catch((res) => {\n                this.setState({\n                    error: res.error\n                })\n            })\n    }\n\n    render() {\n\n\n        const { incorrectPassword, incorrectUsername, error } = this.state;\n\n\n        return (\n\n            <form className='LoginForm width-wrapper' onSubmit={(e) => { this.handleSubmitLoginForm(e) }}>\n                <fieldset>\n                    <legend className='blue-back white-text'>\n                        Login\n                        </legend>\n                    <div className='flex'>\n                        <label htmlFor='username'>\n                            <span className='input-title'>* Username:</span>\n                            <input\n                                type='text'\n                                id='username'\n                                name='username'\n                                required\n                                onChange={(e) => { validateUserName(e) }}\n                            />\n                            {\n                                incorrectUsername &&\n                                <span className='error'>{error}</span>\n                            }\n                        </label>\n                        \n                        <label htmlFor='password'>\n                            <span className='input-title'>* Password:</span>\n                            <input\n                                type='password'\n                                id='password'\n                                name='password'\n                                required\n                                onChange={(e) => { validatePassword(e) }} \n                            />\n                            {\n                                incorrectPassword &&\n                                <span className='error'>{error}</span>\n                            }\n                        </label>\n                        <button\n                            className='app-button'\n                            type='submit'\n                        >\n                            Login\n                            </button>\n                    </div>\n                </fieldset>\n            </form>\n        );\n    }\n}\n\nexport default LoginForm;","import React, { Component } from 'react';\nimport './LoginPage.css';\nimport AppContext from '../../Contexts/AppContext';\nimport LoginForm from '../../Components/LoginForm/LoginForm';\nimport {Redirect} from 'react-router-dom';\n\nclass LoginPage extends Component {\n    \n    static contextType = AppContext;\n\n    onLoginSuccess = (loggedIn) => {\n        this.props.history.push('/');\n        this.context.setLoggedIn(true);\n    }\n\n    render() {\n\n        const { basePath, loggedIn, newUser } = this.context;\n\n        return (\n            !loggedIn\n                ? <section className='LoginPage'>\n                    <LoginForm onLoginSuccess={() => {this.onLoginSuccess()}}/>\n                </section>\n                : !newUser\n                    ? <Redirect to={`${basePath}/dashboard`} />\n                    : <Redirect to={`${basePath}/newuser`} />\n        );\n    }\n}\n \nexport default LoginPage;","import React, { Component } from 'react';\nimport './App.css';\nimport { Switch, Route, Redirect } from 'react-router-dom';\nimport Header from '../Header/Header';\nimport HomePage from '../../Routes/HomePage/HomePage';\nimport AppContext from '../../Contexts/AppContext';\nimport CreateAccountPage from '../../Routes/CreateAccountPage/CreateAccountPage';\nimport LoginPage from '../../Routes/LoginPage/LoginPage';\nimport TokenService from '../../Services/TokenService';\n\n\nclass App extends Component {\n  \n  constructor(props) {\n    super(props);\n    this.state = {\n      basePath: '/dispatch-office-client', \n      loggedIn: false,\n      newUser: false,\n      setLoggedIn: () => {},\n      setNewUser: () => {},\n    }\n  }\n\n  componentDidMount = () => {\n    // Do fetch requests here and initialize state\n    this.setState({\n      loggedIn: TokenService.hasAuthToken()\n    })\n  }\n\n  setLoggedIn = (loggedIn) => {\n    console.log(`Logged In: ${loggedIn}`);\n    this.setState({\n      loggedIn\n    })\n  }\n\n  setNewUser = (newUser) => {\n    this.setState({\n      newUser\n    })\n  }\n\n  render() {\n\n    const value = {\n      basePath: this.state.basePath,\n      loggedIn: this.state.loggedIn,\n      newUser: this.state.newUser,\n      setLoggedIn: this.setLoggedIn,\n      setNewUser: this.setNewUser,\n    }\n\n    return (\n      <AppContext.Provider value={value}>\n        <div className='App'>\n          \n          <Header />\n          <Switch>\n\n            {/* Begin the app with the /app endpoint */}\n            <Route exact path='/'>\n              <Redirect to={value.basePath} />\n            </Route>  \n\n            <Route \n              exact\n              path={value.basePath}\n              component={HomePage}\n            />\n\n            <Route\n              exact\n              path={`${value.basePath}/create-account`}\n              component={CreateAccountPage}\n            />\n\n            <Route\n              exact\n              path={`${value.basePath}/login`}\n              component={LoginPage}\n            />\n\n          </Switch>\n        </div>\n      </AppContext.Provider>\n    );\n  }\n}\n\nexport default App;","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './Components/App/App';\nimport { BrowserRouter } from 'react-router-dom';\n\nReactDOM.render(\n    <BrowserRouter>\n        <App />\n    </BrowserRouter>\n    , \n    document.getElementById('root'));\n"],"sourceRoot":""}